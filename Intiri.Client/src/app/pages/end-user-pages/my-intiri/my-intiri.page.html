<ion-content>
  <div id="home">
    <app-header></app-header>
    <ngx-spinner size="medium" type="ball-spin-clockwise"></ngx-spinner>
    <div *ngIf="!isLoading" class="main-container">
      <div class="flex justify-between">
        <p class="main-title">{{'MY-INTIRI.intiri' | translate}}</p>
      </div>
      <ion-row class="mt-3">
        <ion-col size="12" class="p-2 xl:p-0 xl:pt-6">
          <div>
            <div *ngIf="projects.length > 0">
              <div class="flex justify-between items-center ">
                <p class="text-2xl font-medium mb-4">{{'MY-INTIRI.latest-project' | translate}}</p>
                <div *ngIf="projects[projects.length-1].projectMoodboards.length > options.slidesPerView">
                  <ion-button fill="clear" class="text-black hover:opacity-50" (click)="prev()">
                    <ion-icon name="arrow-back" class="h-6 w-6"></ion-icon>
                  </ion-button>
                  <ion-button fill="clear" class="text-black hover:opacity-50" (click)="next()">
                    <ion-icon name="arrow-forward" class="h-6 w-6"></ion-icon>
                  </ion-button>
                </div>
              </div>
              <div class="flex items-center justify-start cursor-pointer hover:opacity-80" routerLink="/project-details/{{projects[projects.length-1].id}}" routerDirection="root">
                <p class="text-black-2 text-2xl font-medium min-w-[45px]">{{projects[projects.length-1].name}}</p>
                <ion-button fill="clear" class="text-black" >
                  <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
                </ion-button>
              </div>
              <div>
                <p class="text-black-3 text-lg">{{projects[projects.length-1].projectMoodboards.length }} moodboards / {{getPiecesNo(projects[projects.length-1])}} pieces / {{projects[projects.length-1].created | timeAgo }}</p>
              </div>
              <div class="flex flex-wrap gap-x-[2%]">
                <ion-slides #slides [options]="options" class="py-4 pr-4 w-full">
                  <ion-slide *ngFor="let moodboard of projects[projects.length-1].projectMoodboards" class="rounded-2xl border shadow-1 h-[350px] min-w-[300px]">
                    <ion-grid>
                      <ion-row>
                        <ion-col size="4.5" class="!p-3 !pr-2">
                          <img src="{{moodboard.style.styleImages[0].imagePath}}" class="!h-[153.5px] lg:h-[155px] !w-full mb-2 object-cover" alt="moodboard-img"/>
                          <img src="{{moodboard.style.styleImages[1].imagePath}}" class="!h-[153.5px] lg:h-[155px] !w-full object-cover" alt="moodboard-img"/>
                        </ion-col>
                        <ion-col size="7.5" class="!p-3 !pl-0">
                          <img src="{{moodboard.style.styleImages[2].imagePath}}" class="!h-[315px] lg:h-[318px] !w-full object-cover" alt="moodboard-img"/>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </ion-slide>
                </ion-slides>
              </div>
            </div>
            <div class="mt-8">
              <div class="flex justify-between items-center">
                <p class="text-2xl font-medium text-black-2">{{'MY-INTIRI.all-projects' | translate}}</p>
                <div *ngIf="projects.length > options.slidesPerView">
                  <ion-button fill="clear" class="text-black hover:opacity-50" (click)="prevProject()">
                    <ion-icon name="arrow-back" class="h-6 w-6"></ion-icon>
                  </ion-button>
                  <ion-button fill="clear" class="text-black hover:opacity-50" (click)="nextProject()">
                    <ion-icon name="arrow-forward" class="h-6 w-6"></ion-icon>
                  </ion-button>
                </div>
              </div>
              <div class="flex flex-wrap gap-x-[2%]">
                <ion-slides #projectSlides [options]="options" class="pb-20 pr-4 pt-4 w-full">
                  <ion-slide *ngFor="let project of projects" class="rounded-2xl border shadow-1 h-[350px] min-w-[300px]">
                    <ion-grid>
                      <ion-row>
                        <ion-col size="4.5" class="!p-3 !pr-2">
                          <img src="{{project.projectMoodboards[0].style.styleImages[0].imagePath}}" class="!h-[153.5px] lg:h-[155px] !w-full mb-2 object-cover" alt="moodboard-img"/>
                          <img src="{{project.projectMoodboards[0].style.styleImages[1].imagePath}}" class="!h-[153.5px] lg:h-[155px] !w-full object-cover" alt="moodboard-img"/>
                        </ion-col>
                        <ion-col size="7.5" class="!p-3 !pl-0">
                          <img src="{{project.projectMoodboards[0].style.styleImages[2].imagePath}}" class="!h-[315px] lg:h-[318px] !w-full object-cover" alt="moodboard-img"/>
                        </ion-col>
                      </ion-row>
                      <ion-row>
                        <div class="flex items-center justify-start pt-2 cursor-pointer hover:opacity-80" routerLink="/project-details/{{project.id}}" routerDirection="root">
                          <p class="text-black-2 text-2xl font-medium min-w-[45px]">{{project.name}}</p>
                          <ion-button fill="clear" class="text-black">
                            <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
                          </ion-button>
                        </div>
                        <div class="w-full text-left">
                          <p class="text-black-3 text-lg">{{project.projectMoodboards.length }} moodboards / {{getPiecesNo(project)}} pieces / {{project.created | timeAgo }}</p>
                        </div>
                      </ion-row>
                    </ion-grid>
                  </ion-slide>
                </ion-slides>
              </div>
            </div>
          </div>
        </ion-col>
      </ion-row>
      <div class="flex justify-between items-center">
        <p class="text-2xl font-medium text-black-2 mt-8 mb-4">{{'MY-INTIRI.inspirations' | translate}}</p>
        <ion-button fill="clear" class="text-primary">
          <p class="capitalize">See all</p>
          <ion-icon name="arrow-forward" class="h-4 w-4"></ion-icon>
        </ion-button>
      </div>
      <ion-row class="gap-x-[1.45%] ">
        <ion-col *ngFor="let style of [1,2,3,4,5,6] | filter:searchText" size="12" size-sm="5.75" size-xl="1.85">
          <div >
            <div class="h-full w-full">
              <img src="../../../../assets/images/img-01.png" class="object-cover rounded-2xl !h-full !w-full" alt="Profile Img" />
            </div>
          </div>
          <div class="flex justify-between">
            <p class="py-2 text-black-2 font-semibold">{{style.name}}</p>
          </div>
        </ion-col>
      </ion-row>
    </div>
  </div>
</ion-content>