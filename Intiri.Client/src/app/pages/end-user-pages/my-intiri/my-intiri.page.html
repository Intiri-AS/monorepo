<ion-content>
  <div id="home">
    <app-header></app-header>
    <div class="main-container">
      <div class="flex justify-between">
        <p class="main-title">My intiri</p>
        <ion-button fill="clear" (click)="openShare()">
          <ion-icon name="share-social" class="w-10 h-10"></ion-icon>
        </ion-button>
      </div>
      <ion-row class="mt-3">
        <ion-col size="12" size-xl="8" class="p-2 xl:p-0 xl:pt-6">
          <div *ngIf="projects.length > 0">
            <div class="flex justify-between items-center ">
              <p class="text-2xl font-medium">Latest project</p>
              <div>
                <ion-button fill="clear" class="text-black" (click)="prev()">
                  <ion-icon name="arrow-back" class="h-6 w-6"></ion-icon>
                </ion-button>
                <ion-button fill="clear" class="text-black" (click)="next()">
                  <ion-icon name="arrow-forward" class="h-6 w-6"></ion-icon>
                </ion-button>
              </div>
            </div>
            <div class="flex flex-col xl:flex-row xl:justify-between m-0 mt-4 mb-2">
              <ion-card class="w-full xl:w-[370px] h-[350px] border rounded-2xl border-black m-0 shadow-none p-4">
                <img src="{{projects[projects.length-1].projectMoodboards[0].style.styleImages[1].path}}" class="w-full h-full object-cover">
              </ion-card>
              <div class="w-full xl:w-[370px] h-[350px] mt-5 xl:mt-0">
                <ion-slides #slides [options]="options" class="p-0 m-0">
                  <ion-slide>
                    <ion-card class="w-[170px] h-[350px] border rounded-2xl border-gray-400 m-0 shadow-none p-4">
                      <p class="mt-2 text-lg text-black-1 text-center">Colors</p>
                      <section  class="max-h-[280px] overflow-auto">
                        <div *ngFor="let palette of projects[projects.length-1].projectMoodboards[0].colorPalettes" [ngStyle]="{background: palette.mainColor}" class="img-settings"></div>
                      </section>
                    </ion-card>
                  </ion-slide>
                  <ion-slide>
                    <ion-card class="w-[170px] h-[350px] border rounded-2xl border-gray-400 m-0 shadow-none p-4">
                      <p class="mt-2 text-lg text-black-1 text-center">Material</p>
                      <section  class="max-h-[280px] overflow-auto">
                        <div *ngFor="let item of projects[projects.length-1].projectMoodboards[0].materials" [ngStyle]="{background: 'url(' + normalizeSlashes(item.imagePath) + ')'}" class="img-settings"></div>
                      </section>
                    </ion-card>
                  </ion-slide>
                  <ion-slide>
                    <ion-card class="w-[170px] h-[350px] border rounded-2xl border-gray-400 m-0 shadow-none p-4">
                      <p class="mt-2 text-lg text-black-1 text-center">Furniture</p>
                      <section  class="max-h-[280px] overflow-auto">
                        <div *ngFor="let item of projects[projects.length-1].projectMoodboards[0].products" [ngStyle]="{background: 'url(' + normalizeSlashes(item.imagePath) + ')'}" class="img-settings"></div>
                      </section>
                    </ion-card>
                  </ion-slide>
                </ion-slides>
              </div>
            </div>
            <div class="flex items-center justify-start">
              <p class="text-black-2 text-2xl font-medium">{{projects[projects.length-1].name}}</p>
              <!-- <ion-button fill="clear" class="text-black" routerLink="/project-details" routerDirection="root">
                <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
              </ion-button> -->
              <ion-button fill="clear" class="text-black" (click)="goToProjectDetails(projects[projects.length-1])">
                <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
              </ion-button>
            </div>
            <div>
              <p class="text-black-3 text-lg">{{projects[projects.length-1].projectMoodboards.length }} moodboards / {{getPiecesNo(projects[projects.length-1])}} pieces / {{projects[projects.length-1].created | timeAgo }}</p>
            </div>
          </div>
          <div class="mt-16">
            <p class="text-2xl font-medium text-black-2">All projects</p>
            <div class="flex flex-wrap justify-between">
              <div *ngFor="let project of projects">
                <ion-card class="w-full xl:w-[370px] h-[350px] border rounded-2xl border-black m-0 mt-5 mb-2 shadow-none p-4">
                  <img src="{{project.projectMoodboards[0].style.styleImages[0].path}}" class="w-full h-full">
                </ion-card>
                <div class="flex items-center justify-start">
                  <p class="text-black-2 text-2xl font-medium">{{project.name}}</p>
                  <!-- <ion-button fill="clear" class="text-black" routerLink="['/project-details', {{project}}]" routerDirection="root">
                    <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
                  </ion-button> -->
                  <ion-button fill="clear" class="text-black" (click)="goToProjectDetails(project)">
                    <ion-icon name="arrow-forward" class="h-6 w-6 text-black-2"></ion-icon>
                  </ion-button>
                </div>
                <div>
                  <p class="text-black-3 text-lg">1 moodboard / {{getPiecesNo(project)}} pieces / {{project.created | timeAgo }}</p>
                </div>
              </div>
            </div>
          </div>
        </ion-col>
        <ion-col size="12" size-xl="4" class="xl:pl-4">
          <div class="h-full bg-light rounded-2xl pl-7 pt-6">
            <p class="text-2xl font-medium">Intiri news</p>
            <div *ngFor="let n of news" class="flex justify-start mt-5">
              <img src={{n.image}} class="w-14 h-14 rounded-2xl">
              <div class="ml-5">
                <p class="text-lg font-medium">{{n.name}}</p>
                <p class="text-lg text-black-2">{{n.news}}</p>
              </div>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </div>
  </div>
</ion-content>
